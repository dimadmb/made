{% extends 'base.html.twig' %}


{% block body %}


<div class="container">	
{{ form_start(form) }}
		<div class="row">
			<div class="col-xs-12">
				<div class="cruise-search block" >
				<h2>ПОИСК КРУИЗА</h2>
					<div class="row">
						<div class="col-md-6">
							<label>Направления</label>
							<div class="input-box">
								<select class="chosen-select">
									<option value="" selected>Все направления</option>
									<option value="">Круизы по Волге</option>
									<option value="">Круизы по Каме</option>
									<option value="">Круизы по Дону</option>
									<option value="">Круизы в Москву</option>
								</select>
							</div>
							<label>Порт</label>
							<div class="input-box">
								<select class="chosen-select">
									<option value="" selected>Любой порт</option>
									<option value="">Москва</option>
									<option value="">Нижний Новгород</option>
									<option value="">Санк-Петербург</option>
									<option value="">Астрахань</option>
								</select>
							</div>
							<label class="month">Месяц</label>
							<div class="input-box month">
								<select class="chosen-select">
										<option value="" selected>Любой месяц</option>
										<option value="">Апрель</option>
										<option value="">Май</option>
										<option value="">Июнь</option>
										<option value="">Июль</option>
										<option value="">Август</option>
										<option value="">Сентябрь</option>
										<option value="">Октябрь</option>
										<option value="">Ноябрь</option>
								</select>
							</div>
							<label class="days">Дней</label>
							<div class="input-box days">
									{{ form_widget(form.days, {'attr':{'class':'chosen-select'}} ) }}
							</div>
							<label>Класс</label>
							<div class="input-box">
								{{ form_widget(form.class, {'attr':{'class':'chosen-select'}} ) }}
							</div>
							<label>Теплоход</label>
							<div class="input-box">
								{{ form_widget(form.motorship, {'attr':{'class':'chosen-select'}} ) }}
							</div>
						</div>
						<div class="col-md-6">
							<label>Категория</label>
							<div class="input-box">
								<select class="chosen-select">
									<option value="" selected>Любая категория</option>
									<option value="">Тематический круиз</option>
									<option value="">Бесплатное место для сопровождающего школьных гр.</option>
									<option value="">Детское место в подарок</option>
									<option value="">Дополнительные бонусные баллы</option>
									<option value="">Круиз по выигранному сертификату</option>
								</select>
							</div>
							<label>Тариф</label>
							<div class="input-box">
								<select class="chosen-select">
									<option value="" selected>Любой тариф</option>
									<option value="">Пенсионный</option>
									<option value="">Студенческий</option>
									<option value="">Школьный</option>
								</select>
							</div>
							<label>Посетить</label>
							<div class="input-box">
								<select class="chosen-select" multiple>
									<option value="">Москва</option>
									<option value="">Санкт-Петербург</option>
									<option value="">Астрахань</option>
									<option value="">Волгоград</option>
									<option value="">Саратов</option>
								</select>
							</div>
							<div class="row buttons">
								<div class="col-xs-6">
									<a href="{{path('cruises')}}" class="btn btn-contred full-width">ВСЕ КРУИЗЫ</a>
								</div>
								<div class="col-xs-6">
									{{ form_widget(form.submit,{'label': 'ПОИСК'}) }}
								</div>
							</div>
						</div>
					</div>
				
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12">
				<div class="block search-arrange">
					<div class="row">
						<div class="col-md-6 col-xs-12">
							<label>Сортировка</label>
							<div class="input-box">
								{{ form_widget(form.sort, {'attr':{'class':'chosen-select'}} ) }}
							</div>
						</div>
						<div class="col-md-3 col-xs-6">
							<div class="found-number">Найдено круизов: <span>{{cruises.count}}</span></div>
						</div>
						<div class="col-md-3 col-xs-6">
							<ul class="pager">			
								{% for i in 1 .. (cruises.count/countInPage) | round(0,'ceil')  %}
									<li><a href="{{app.request.requestUri}}{% if '?' in app.request.requestUri %}&{% else %}?{% endif %}p={{i-1}}" {% if (firstResult == (i-1)) %}class="active"{% endif %}>{{i}}</a></li>
								{% endfor %}
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	{{ form_end(form) }}

{% for cruise in cruises %}
	
<div class="block cruise-row">
	<div>
		<div class="cruise-days-cont">
			<div class="cruise-days">
				{{cruise.days}}  {{cruise.days | numeral('день','дня','дней') }}
			</div>
		</div>
		<div class="cruise-options-cont">
			<div class="cruise-options-switch"></div>
			<div class="cruise-options">
				<div class="cruise-option">
					ТАРИФ ПЕНСИОННЫЙ
				</div>
			</div>
		</div>
	</div>
	<div class="cruise-table">
		<div class="descr-block">
			<div class="cruise-header">
				<a href="{{ path('cruise_detail',{'id':cruise.id}) }}">{{ cruise.name }}</a>
			</div>
			<div class="cities">
				Волгоград, Саратов, Самара, Казань, Чебоксары, Козьмодемьянск, Нижний Новгород, Макарьево, Мариинский Посад
			</div>
		</div>
<div class="cruise-date">{{cruise.dateStart | localizeddate('full', 'none', null, null, 'dd') }}<span>{{cruise.dateStart | localizeddate('full', 'none', null, null, 'eee') }}<br />{{cruise.dateStart | localizeddate('full', 'none', null, null, 'MMM') }}</span> – {{cruise.dateStop | localizeddate('full', 'none', null, null, 'dd') }}<span>{{cruise.dateStop | localizeddate('full', 'none', null, null, 'eee') }}<br />{{cruise.dateStop | localizeddate('full', 'none', null, null, 'MMM') }}</span>
							</div>
		<div class="ship-block">
			<div class="criuse-ship-header">
				<a href="#">{{ cruise.motorship.name }}</a>
			</div>
			<div class="criuse-ship-places">
				<span class="places-number">{{cruise.freeCountRoom}}</span>  {{cruise.freeCountRoom | numeral('свободное место','свободных места','свободных мест') }}
			</div>
		</div>
		<div class="price">
			37 800 <span>руб.</span>
		</div>
	</div>
</div>
{% endfor %}
</div>

{#
<table>
	<tr>
		<td>Дата</td>
		<td>Дней</td>
		<td>Теплоход</td>
		<td>Маршрут</td>
		<td>Цены от</td>
		<td>Свободно</td>
	</tr>
	{% for cruise in cruises %}
	<tr>
		<td>{{cruise.dateStart | localizeddate('full', 'none', null, null, 'dd MMM (eee)') }} — 
		{{cruise.dateStop | localizeddate('full', 'none', null, null, 'dd MMM (eee) Y')}} </td>
		<td>{{cruise.days}}</td>
		<td>{{ cruise.motorship.name }}</td>
		<td><a href="{{ path('cruise_detail',{'id':cruise.id}) }}">{{ cruise.name }}</a></td>
		<td></td>
		<td>{{cruise.freeCountRoom}}</td>
	</tr>
	{% endfor %}
</table>	
#}	


{% endblock %}